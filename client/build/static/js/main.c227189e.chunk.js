(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{15:function(e,t,a){},33:function(e,t,a){e.exports=a(67)},38:function(e,t,a){},40:function(e,t,a){},46:function(e,t,a){},64:function(e,t,a){},65:function(e,t,a){},66:function(e,t,a){},67:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(28),i=a.n(o),l=(a(38),a(3)),c=a(12),u=a(10),s=a(8),m=a.n(s),p=a(11),f=a(29),d=a.n(f);a(40);var g=function(e){var t=function(){var e=Object(p.a)(m.a.mark((function e(t){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t.tokenObj.id_token,localStorage.setItem("token",a),window.location.reload();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a=function(){localStorage.removeItem("token"),window.location.reload()};return r.a.createElement("div",null,r.a.createElement("nav",{className:"NavBar"},r.a.createElement("div",{className:"Title"},"Find-A-Friend"),r.a.createElement(c.b,{to:"/home",style:{float:"left"}},r.a.createElement("button",{className:"NavLink"},"Home")),e.loggedIn?r.a.createElement("div",null,r.a.createElement("div",{className:"AccountContainer"},r.a.createElement("button",{className:"LogoutButton",onClick:a},"Logout"),r.a.createElement("div",{className:"ProfileName"},e.profileName),r.a.createElement(c.b,{to:"/profile"},r.a.createElement("img",{src:e.profilePicture,className:"ProfilePicture",alt:"Profile"})))):r.a.createElement("div",{className:"LoginButtonContainer"},r.a.createElement(d.a,{clientId:"1066775516443-ir1ln4htkr7up216i8ktko452s3p0vb8.apps.googleusercontent.com",buttonText:"Login with Google",onSuccess:t,onFailure:a,theme:"dark"}))))};a(46);var h=function(){return r.a.createElement("footer",{className:"Footer"},"Mick Arias \xa9 2019")},v=a(6),E=a.n(v);a(64);var b=function(e){var t=Object(n.useState)(""),a=Object(l.a)(t,2),o=a[0],i=a[1];return r.a.createElement("div",null,r.a.createElement("div",{className:"NewsContainer"},r.a.createElement("h1",{className:"Align-Center"},"Welcome to Find-A-Friend"),r.a.createElement("p",{className:"Align-Center"},"Friendships are important and it is necessary to give people the ability to make friends in this growing age through technology.",r.a.createElement("br",null),"Through the power of Find-A-Friend, connections will be made, conversations will be started, and friendships will be cherished."),r.a.createElement("p",{className:"Align-Center"},"Be brought together with people similar to you through a small quiz."),r.a.createElement(c.b,{to:"/quiz"},r.a.createElement("button",{className:"TakeQuizButton"},"Click here to take your Quiz!"))),r.a.createElement("div",{className:"NewsContainer"},r.a.createElement("h1",{className:"Align-Center"},"Contact Similar Users!"),function(){e.loggedIn&&E.a.get("/auth/all_users").then((function(t){t.data.map((function(t){if(t.email===e.profileEmail){var a=0;if(t.survey){for(var n=JSON.parse(t.survey),r=0;r<n.length;r++){var o=n[r];a+=parseInt(o.score)}localStorage.setItem("score",a.toString())}}}))}));var t=[];E.a.get("/auth/all_users").then((function(a){for(var n=0;n<a.data.length;n++){var o=0,l=a.data[n];if(l.email!==e.profileEmail)if(l.taken_survey){for(var c=JSON.parse(l.survey),u=0;u<c.length;u++){var s=c[u];o+=parseInt(s.score)}t.push(r.a.createElement("div",{className:"ActivityContainer"},r.a.createElement("p",{className:"ActivityName"},a.data[n].name,r.a.createElement("br",null)),r.a.createElement("p",null,a.data[n].email,r.a.createElement("br",null)),e.loggedIn?r.a.createElement("p",null,"Similarity Score: ",(m=o,(p=parseInt(localStorage.getItem("score")))>m?100-Math.round(100*Math.abs((p-m)/p)):100-Math.round(100*Math.abs((m-p)/m))),"%"):r.a.createElement("p",null,"Similarity Score: Log in to View")))}else t.push(r.a.createElement("div",{className:"ActivityContainer"},r.a.createElement("p",{className:"ActivityName"},a.data[n].name,r.a.createElement("br",null)),r.a.createElement("p",null,a.data[n].email)))}var m,p;i(t)}))}(),o))};a(65);var N=function(e){var t=!1,a=Object(n.useState)(!1),o=Object(l.a)(a,2),i=o[0],c=o[1],u=Object(n.useState)({}),s=Object(l.a)(u,2),m=s[0],p=s[1];return e.profilePicture&&e.profileName&&e.profileEmail&&(t=!0),E.a.get("/auth/has_taken_quiz/"+e.profileEmail).then((function(e){c(e.data.taken),i&&p(JSON.parse(e.data.quiz))})),r.a.createElement("div",null,t?r.a.createElement("div",null,r.a.createElement("img",{src:e.profilePicture,className:"ProfilePictureLarge",alt:"Profile"}),r.a.createElement("p",{className:"ProfileNameLarge"},e.profileName,r.a.createElement("br",null),r.a.createElement("span",{className:"ProfileEmailLarge"},e.profileEmail)),i?r.a.createElement("div",null,r.a.createElement("p",null," "),function(){for(var e=[],t=0;t<m.length;t++){var a=m[t];e.push(r.a.createElement("div",{className:"Align-Center"},r.a.createElement("p",{className:"TakenQuizQuestion"},"Question: ",a.question),r.a.createElement("br",null),r.a.createElement("p",{className:"TakenQuizScore"},"Score: ",a.score)))}return e}()):r.a.createElement("div",null,r.a.createElement("p",{className:"ProfileNameLarge"},"You have not taken the Find-A-Friend Quiz."))):r.a.createElement("div",null,r.a.createElement("p",{className:"ProfileNameLarge"},"You are not logged in.")))},q=a(69);a(15);var y=function(e){var t=Object(n.useState)([]),a=Object(l.a)(t,2),o=a[0],i=a[1];function c(t){localStorage.setItem(e.question_id,t),u()}function u(){o.length&&i([]);for(var t=function(t){localStorage.getItem(e.question_id)&&localStorage.getItem(e.question_id)==t?o.push(r.a.createElement(q.a,{className:"AnswerButton AnswerButtonSelected",id:e.question_id+"-button-"+t,onClick:function(){return c(t)}},t)):o.push(r.a.createElement(q.a,{className:"AnswerButton",id:e.question_id+"-button-"+t,onClick:function(){return c(t)}},t))},a=1;a<e.how_many+1;a++)t(a)}return o.length||u(),o};var k=function(e){return r.a.createElement("div",{className:"QuestionQuestionContainer"},r.a.createElement("p",{className:"QuizQuestion"},e.question),r.a.createElement(y,{how_many:10,question_id:e.question_id}))};var w=function(e){var t=[{question_id:1,question:"I enjoy long walks on the beach more than a movie night."},{question_id:2,question:"If I lost all my technology right now, I would not mind."},{question_id:3,question:"The world needs to do more to stop global warming."},{question_id:4,question:"Religion is very important to me."},{question_id:5,question:"I am not interested in the political status of my country."},{question_id:6,question:"Dogs are better than cats."},{question_id:7,question:"I prefer to use a track-pad over a mouse on a laptop."},{question_id:8,question:"Minecraft is the best video game ever made."},{question_id:9,question:"I try not to be negative around others if I am not feeling well."},{question_id:10,question:"In order to be happy, you have to believe you are."}],a=Object(n.useState)(""),o=Object(l.a)(a,2),i=o[0],c=o[1];function u(){return(u=Object(p.a)(m.a.mark((function a(){var n,r,o,i,l;return m.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:for(n=[],r=1;r<t.length+1;r++)localStorage.getItem(""+r)&&-1==localStorage.getItem(""+r)&&n.push(r);if(!n.length){a.next=7;break}return c("You need to answer the questions: "+n.join(", ")),a.abrupt("return",!1);case 7:for(c(""),o=[],i=0;i<t.length;i++)l={question_id:t[i].question_id,question:t[i].question,score:localStorage.getItem(t[i].question_id)},o.push(l);return a.next=12,E.a.post("/auth/complete_survey/"+e.profileEmail,o);case 12:return!0===a.sent.data&&window.location.replace("/"),a.abrupt("return",!0);case 15:case"end":return a.stop()}}),a)})))).apply(this,arguments)}return r.a.createElement("div",null,r.a.createElement("p",{className:"QuizTitle"},"Find-A-Friend Official Quiz"),e.loggedIn?r.a.createElement("div",{className:"Align-Center"},r.a.createElement("p",{className:"QuizInstructions"}," Rate the statements' significance to you on a scale from 1 to 10. 1 being opposite of you and 10 being a great description of you. "),t.map((function(e){return r.a.createElement(k,{question:e.question,question_id:e.question_id})})),i?r.a.createElement("p",null,i):r.a.createElement("p",null),r.a.createElement("button",{className:"SubmitQuizButton",onClick:function(e){e.preventDefault(),function(){u.apply(this,arguments)}()}},"Submit Survey")):r.a.createElement("div",null,"You need to be logged in to view and take the survey!"))};a(66);function S(){return(S=Object(p.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.get("/auth/get/user/"+localStorage.getItem("token"));case 2:if(!(t=e.sent)){e.next=7;break}return e.abrupt("return",t);case 7:return e.abrupt("return",!1);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function I(){return(I=Object(p.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",E.a.post("https://www.googleapis.com/oauth2/v3/tokeninfo",{id_token:t}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var _={getUser:function(e){return function(){return S.apply(this,arguments)}(e)},verifyToken:function(e){return function(e){return I.apply(this,arguments)}(e)}};var O=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),a=t[0],o=t[1],i=Object(n.useState)(""),s=Object(l.a)(i,2),m=s[0],p=s[1],f=Object(n.useState)(""),d=Object(l.a)(f,2),v=d[0],q=d[1],y=Object(n.useState)(""),k=Object(l.a)(y,2),S=k[0],I=k[1];if(localStorage.getItem("token")){var O=localStorage.getItem("token");_.verifyToken(O).then((function(e){e.data&&(p(e.data.picture),q(e.data.email),I(e.data.name),E.a.post("/auth/add/user",{token:O}),o(!0))}))}for(var j=1;j<11;j++)localStorage.setItem(j.toString(),"-1");return r.a.createElement(c.a,null,r.a.createElement(g,{loggedIn:a,profilePicture:m,profileName:v}),r.a.createElement(u.c,null,r.a.createElement(u.a,{exact:!0,path:"/",component:function(){return r.a.createElement(b,{loggedIn:a,profileEmail:v})}}),r.a.createElement(u.a,{exact:!0,path:"/home",component:function(){return r.a.createElement(b,{loggedIn:a,profileEmail:v})}}),r.a.createElement(u.a,{exact:!0,path:"/quiz",component:function(){return r.a.createElement(w,{loggedIn:a,profileEmail:v})}}),r.a.createElement(u.a,{exact:!0,path:"/profile",component:function(){return r.a.createElement(N,{profilePicture:m,profileName:S,profileEmail:v})}})),r.a.createElement(h,null))};i.a.render(r.a.createElement(O,null),document.getElementById("root"))}},[[33,1,2]]]);
//# sourceMappingURL=main.c227189e.chunk.js.map